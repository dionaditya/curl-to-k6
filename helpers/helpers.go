package helpers

import (
	"encoding/json"
	"fmt"
	"path/filepath"
)

func IsJSON(str string) bool {
	var js json.RawMessage
	return json.Unmarshal([]byte(str), &js) == nil
}

func GetBody(body string) string {
	if !IsJSON(body) {
		return "'" + body + "'"
	}

	return body
}

func getMimeType(fileExtension string) string {
	m := make(map[string]string)

	m[".323"] = "text/h323"
	m[".3g2"] = "video/3gpp2"
	m[".3gp"] = "video/3gpp"
	m[".3gp2"] = "video/3gpp2"
	m[".3gpp"] = "video/3gpp"
	m[".7z"] = "application/x-7z-compressed"
	m[".aa"] = "audio/audible"
	m[".AAC"] = "audio/aac"
	m[".aaf"] = "application/octet-stream"

	m[".aax"] = "audio/vnd.audible.aax"
	m[".ac3"] = "audio/ac3"
	m[".aca"] = "application/octet-stream"
	m[".accda"] = "application/msaccess.addin"
	m[".accdb"] = "application/msaccess"
	m[".accdc"] = "application/msaccess.cab"
	m[".accde"] = "application/msaccess"
	m[".accdr"] = "application/msaccess.runtime"
	m[".accdt"] = "application/msaccess"
	m[".accdw"] = "application/msaccess.webapplication"
	m[".accft"] = "application/msaccess.ftemplate"
	m[".acx"] = "application/internet-property-stream"
	m[".AddIn"] = "text/xml"
	m[".ade"] = "application/msaccess"
	m[".adobebridge"] = "application/x-bridge-url"
	m[".adp"] = "application/msaccess"
	m[".ADT"] = "audio/vnd.dlna.adts"
	m[".ADTS"] = "audio/aac"
	m[".afm"] = "application/octet-stream"
	m[".ai"] = "application/postscript"
	m[".aif"] = "audio/x-aiff"
	m[".aifc"] = "audio/aiff"
	m[".aiff"] = "audio/aiff"
	m[".air"] = "application/vnd.adobe.air-application-installer-package+zip"
	m[".amc"] = "application/x-mpeg"
	m[".application"] = "application/x-ms-application"
	m[".art"] = "image/x-jg"
	m[".asa"] = "application/xml"
	m[".asax"] = "application/xml"
	m[".ascx"] = "application/xml"
	m[".asd"] = "application/octet-stream"
	m[".asf"] = "video/x-ms-asf"
	m[".ashx"] = "application/xml"
	m[".asi"] = "application/octet-stream"
	m[".asm"] = "text/plain"
	m[".asmx"] = "application/xml"
	m[".aspx"] = "application/xml"
	m[".asr"] = "video/x-ms-asf"
	m[".asx"] = "video/x-ms-asf"
	m[".atom"] = "application/atom+xml"
	m[".au"] = "audio/basic"
	m[".avi"] = "video/x-msvideo"
	m[".axs"] = "application/olescript"
	m[".bas"] = "text/plain"
	m[".bcpio"] = "application/x-bcpio"
	m[".bin"] = "application/octet-stream"
	m[".bmp"] = "image/bmp"
	m[".c"] = "text/plain"
	m[".cab"] = "application/octet-stream"
	m[".caf"] = "audio/x-caf"
	m[".calx"] = "application/vnd.ms-office.calx"
	m[".cat"] = "application/vnd.ms-pki.seccat"
	m[".cc"] = "text/plain"
	m[".cd"] = "text/plain"
	m[".cdda"] = "audio/aiff"
	m[".cdf"] = "application/x-cdf"
	m[".cer"] = "application/x-x509-ca-cert"
	m[".chm"] = "application/octet-stream"
	m[".class"] = "application/x-java-applet"
	m[".clp"] = "application/x-msclip"
	m[".cmx"] = "image/x-cmx"
	m[".cnf"] = "text/plain"
	m[".cod"] = "image/cis-cod"
	m[".config"] = "application/xml"
	m[".contact"] = "text/x-ms-contact"
	m[".coverage"] = "application/xml"
	m[".cpio"] = "application/x-cpio"
	m[".cpp"] = "text/plain"
	m[".crd"] = "application/x-mscardfile"
	m[".crl"] = "application/pkix-crl"
	m[".crt"] = "application/x-x509-ca-cert"
	m[".cs"] = "text/plain"
	m[".csdproj"] = "text/plain"
	m[".csh"] = "application/x-csh"
	m[".csproj"] = "text/plain"
	m[".css"] = "text/css"
	m[".csv"] = "text/csv"
	m[".cur"] = "application/octet-stream"
	m[".cxx"] = "text/plain"
	m[".dat"] = "application/octet-stream"
	m[".datasource"] = "application/xml"
	m[".dbproj"] = "text/plain"
	m[".dcr"] = "application/x-director"
	m[".def"] = "text/plain"
	m[".deploy"] = "application/octet-stream"
	m[".der"] = "application/x-x509-ca-cert"
	m[".dgml"] = "application/xml"
	m[".dib"] = "image/bmp"
	m[".dif"] = "video/x-dv"
	m[".dir"] = "application/x-director"
	m[".disco"] = "text/xml"
	m[".dll"] = "application/x-msdownload"
	m[".dll.config"] = "text/xml"
	m[".dlm"] = "text/dlm"
	m[".doc"] = "application/msword"
	m[".docm"] = "application/vnd.ms-word.document.macroEnabled.12"
	m[".docx"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
	m[".dot"] = "application/msword"
	m[".dotm"] = "application/vnd.ms-word.template.macroEnabled.12"
	m[".dotx"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.template"
	m[".dsp"] = "application/octet-stream"
	m[".dsw"] = "text/plain"
	m[".dtd"] = "text/xml"
	m[".dtsConfig"] = "text/xml"
	m[".dv"] = "video/x-dv"
	m[".dvi"] = "application/x-dvi"
	m[".dwf"] = "drawing/x-dwf"
	m[".dwp"] = "application/octet-stream"
	m[".dxr"] = "application/x-director"
	m[".eml"] = "message/rfc822"
	m[".emz"] = "application/octet-stream"
	m[".eot"] = "application/octet-stream"
	m[".eps"] = "application/postscript"
	m[".etl"] = "application/etl"
	m[".etx"] = "text/x-setext"
	m[".evy"] = "application/envoy"
	m[".exe"] = "application/octet-stream"
	m[".exe.config"] = "text/xml"
	m[".fdf"] = "application/vnd.fdf"
	m[".fif"] = "application/fractals"
	m[".filters"] = "Application/xml"
	m[".fla"] = "application/octet-stream"
	m[".flr"] = "x-world/x-vrml"
	m[".flv"] = "video/x-flv"
	m[".fsscript"] = "application/fsharp-script"
	m[".fsx"] = "application/fsharp-script"
	m[".generictest"] = "application/xml"
	m[".gif"] = "image/gif"
	m[".group"] = "text/x-ms-group"
	m[".gsm"] = "audio/x-gsm"
	m[".gtar"] = "application/x-gtar"
	m[".gz"] = "application/x-gzip"
	m[".h"] = "text/plain"
	m[".hdf"] = "application/x-hdf"
	m[".hdml"] = "text/x-hdml"
	m[".hhc"] = "application/x-oleobject"
	m[".hhk"] = "application/octet-stream"
	m[".hhp"] = "application/octet-stream"
	m[".hlp"] = "application/winhlp"
	m[".hpp"] = "text/plain"
	m[".hqx"] = "application/mac-binhex40"
	m[".hta"] = "application/hta"
	m[".htc"] = "text/x-component"
	m[".htm"] = "text/html"
	m[".html"] = "text/html"
	m[".htt"] = "text/webviewhtml"
	m[".hxa"] = "application/xml"
	m[".hxc"] = "application/xml"
	m[".hxd"] = "application/octet-stream"
	m[".hxe"] = "application/xml"
	m[".hxf"] = "application/xml"
	m[".hxh"] = "application/octet-stream"
	m[".hxi"] = "application/octet-stream"
	m[".hxk"] = "application/xml"
	m[".hxq"] = "application/octet-stream"
	m[".hxr"] = "application/octet-stream"
	m[".hxs"] = "application/octet-stream"
	m[".hxt"] = "text/html"
	m[".hxv"] = "application/xml"
	m[".hxw"] = "application/octet-stream"
	m[".hxx"] = "text/plain"
	m[".i"] = "text/plain"
	m[".ico"] = "image/x-icon"
	m[".ics"] = "application/octet-stream"
	m[".idl"] = "text/plain"
	m[".ief"] = "image/ief"
	m[".iii"] = "application/x-iphone"
	m[".inc"] = "text/plain"
	m[".inf"] = "application/octet-stream"
	m[".inl"] = "text/plain"
	m[".ins"] = "application/x-internet-signup"
	m[".ipa"] = "application/x-itunes-ipa"
	m[".ipg"] = "application/x-itunes-ipg"
	m[".ipproj"] = "text/plain"
	m[".ipsw"] = "application/x-itunes-ipsw"
	m[".iqy"] = "text/x-ms-iqy"
	m[".isp"] = "application/x-internet-signup"
	m[".ite"] = "application/x-itunes-ite"
	m[".itlp"] = "application/x-itunes-itlp"
	m[".itms"] = "application/x-itunes-itms"
	m[".itpc"] = "application/x-itunes-itpc"
	m[".IVF"] = "video/x-ivf"
	m[".jar"] = "application/java-archive"
	m[".java"] = "application/octet-stream"
	m[".jck"] = "application/liquidmotion"
	m[".jcz"] = "application/liquidmotion"
	m[".jfif"] = "image/pjpeg"
	m[".jnlp"] = "application/x-java-jnlp-file"
	m[".jpb"] = "application/octet-stream"
	m[".jpe"] = "image/jpeg"
	m[".jpeg"] = "image/jpeg"
	m[".jpg"] = "image/jpeg"
	m[".js"] = "application/x-javascript"
	m[".json"] = "application/json"
	m[".jsx"] = "text/jscript"
	m[".jsxbin"] = "text/plain"
	m[".latex"] = "application/x-latex"
	m[".library-ms"] = "application/windows-library+xml"
	m[".lit"] = "application/x-ms-reader"
	m[".loadtest"] = "application/xml"
	m[".lpk"] = "application/octet-stream"
	m[".lsf"] = "video/x-la-asf"
	m[".lst"] = "text/plain"
	m[".lsx"] = "video/x-la-asf"
	m[".lzh"] = "application/octet-stream"
	m[".m13"] = "application/x-msmediaview"
	m[".m14"] = "application/x-msmediaview"
	m[".m1v"] = "video/mpeg"
	m[".m2t"] = "video/vnd.dlna.mpeg-tts"
	m[".m2ts"] = "video/vnd.dlna.mpeg-tts"
	m[".m2v"] = "video/mpeg"
	m[".m3u"] = "audio/x-mpegurl"
	m[".m3u8"] = "audio/x-mpegurl"
	m[".m4a"] = "audio/m4a"
	m[".m4b"] = "audio/m4b"
	m[".m4p"] = "audio/m4p"
	m[".m4r"] = "audio/x-m4r"
	m[".m4v"] = "video/x-m4v"
	m[".mac"] = "image/x-macpaint"
	m[".mak"] = "text/plain"
	m[".man"] = "application/x-troff-man"
	m[".manifest"] = "application/x-ms-manifest"
	m[".map"] = "text/plain"
	m[".master"] = "application/xml"
	m[".mda"] = "application/msaccess"
	m[".mdb"] = "application/x-msaccess"
	m[".mde"] = "application/msaccess"
	m[".mdp"] = "application/octet-stream"
	m[".me"] = "application/x-troff-me"
	m[".mfp"] = "application/x-shockwave-flash"
	m[".mht"] = "message/rfc822"
	m[".mhtml"] = "message/rfc822"
	m[".mid"] = "audio/mid"
	m[".midi"] = "audio/mid"
	m[".mix"] = "application/octet-stream"
	m[".mk"] = "text/plain"
	m[".mmf"] = "application/x-smaf"
	m[".mno"] = "text/xml"
	m[".mny"] = "application/x-msmoney"
	m[".mod"] = "video/mpeg"
	m[".mov"] = "video/quicktime"
	m[".movie"] = "video/x-sgi-movie"
	m[".mp2"] = "video/mpeg"
	m[".mp2v"] = "video/mpeg"
	m[".mp3"] = "audio/mpeg"
	m[".mp4"] = "video/mp4"
	m[".mp4v"] = "video/mp4"
	m[".mpa"] = "video/mpeg"
	m[".mpe"] = "video/mpeg"
	m[".mpeg"] = "video/mpeg"
	m[".mpf"] = "application/vnd.ms-mediapackage"
	m[".mpg"] = "video/mpeg"
	m[".mpp"] = "application/vnd.ms-project"
	m[".mpv2"] = "video/mpeg"
	m[".mqv"] = "video/quicktime"
	m[".ms"] = "application/x-troff-ms"
	m[".msi"] = "application/octet-stream"
	m[".mso"] = "application/octet-stream"
	m[".mts"] = "video/vnd.dlna.mpeg-tts"
	m[".mtx"] = "application/xml"
	m[".mvb"] = "application/x-msmediaview"
	m[".mvc"] = "application/x-miva-compiled"
	m[".mxp"] = "application/x-mmxp"
	m[".nc"] = "application/x-netcdf"
	m[".nsc"] = "video/x-ms-asf"
	m[".nws"] = "message/rfc822"
	m[".ocx"] = "application/octet-stream"
	m[".oda"] = "application/oda"
	m[".odc"] = "text/x-ms-odc"
	m[".odh"] = "text/plain"
	m[".odl"] = "text/plain"
	m[".odp"] = "application/vnd.oasis.opendocument.presentation"
	m[".ods"] = "application/oleobject"
	m[".odt"] = "application/vnd.oasis.opendocument.text"
	m[".one"] = "application/onenote"
	m[".onea"] = "application/onenote"
	m[".onepkg"] = "application/onenote"
	m[".onetmp"] = "application/onenote"
	m[".onetoc"] = "application/onenote"
	m[".onetoc2"] = "application/onenote"
	m[".orderedtest"] = "application/xml"
	m[".osdx"] = "application/opensearchdescription+xml"
	m[".p10"] = "application/pkcs10"
	m[".p12"] = "application/x-pkcs12"
	m[".p7b"] = "application/x-pkcs7-certificates"
	m[".p7c"] = "application/pkcs7-mime"
	m[".p7m"] = "application/pkcs7-mime"
	m[".p7r"] = "application/x-pkcs7-certreqresp"
	m[".p7s"] = "application/pkcs7-signature"
	m[".pbm"] = "image/x-portable-bitmap"
	m[".pcast"] = "application/x-podcast"
	m[".pct"] = "image/pict"
	m[".pcx"] = "application/octet-stream"
	m[".pcz"] = "application/octet-stream"
	m[".pdf"] = "application/pdf"
	m[".pfb"] = "application/octet-stream"
	m[".pfm"] = "application/octet-stream"
	m[".pfx"] = "application/x-pkcs12"
	m[".pgm"] = "image/x-portable-graymap"
	m[".pic"] = "image/pict"
	m[".pict"] = "image/pict"
	m[".pkgdef"] = "text/plain"
	m[".pkgundef"] = "text/plain"
	m[".pko"] = "application/vnd.ms-pki.pko"
	m[".pls"] = "audio/scpls"
	m[".pma"] = "application/x-perfmon"
	m[".pmc"] = "application/x-perfmon"
	m[".pml"] = "application/x-perfmon"
	m[".pmr"] = "application/x-perfmon"
	m[".pmw"] = "application/x-perfmon"
	m[".png"] = "image/png"
	m[".pnm"] = "image/x-portable-anymap"
	m[".pnt"] = "image/x-macpaint"
	m[".pntg"] = "image/x-macpaint"
	m[".pnz"] = "image/png"
	m[".pot"] = "application/vnd.ms-powerpoint"
	m[".potm"] = "application/vnd.ms-powerpoint.template.macroEnabled.12"
	m[".potx"] = "application/vnd.openxmlformats-officedocument.presentationml.template"
	m[".ppa"] = "application/vnd.ms-powerpoint"
	m[".ppam"] = "application/vnd.ms-powerpoint.addin.macroEnabled.12"
	m[".ppm"] = "image/x-portable-pixmap"
	m[".pps"] = "application/vnd.ms-powerpoint"
	m[".ppsm"] = "application/vnd.ms-powerpoint.slideshow.macroEnabled.12"
	m[".ppsx"] = "application/vnd.openxmlformats-officedocument.presentationml.slideshow"
	m[".ppt"] = "application/vnd.ms-powerpoint"
	m[".pptm"] = "application/vnd.ms-powerpoint.presentation.macroEnabled.12"
	m[".pptx"] = "application/vnd.openxmlformats-officedocument.presentationml.presentation"
	m[".prf"] = "application/pics-rules"
	m[".prm"] = "application/octet-stream"
	m[".prx"] = "application/octet-stream"
	m[".ps"] = "application/postscript"
	m[".psc1"] = "application/PowerShell"
	m[".psd"] = "application/octet-stream"
	m[".psess"] = "application/xml"
	m[".psm"] = "application/octet-stream"
	m[".psp"] = "application/octet-stream"
	m[".pub"] = "application/x-mspublisher"
	m[".pwz"] = "application/vnd.ms-powerpoint"
	m[".qht"] = "text/x-html-insertion"
	m[".qhtm"] = "text/x-html-insertion"
	m[".qt"] = "video/quicktime"
	m[".qti"] = "image/x-quicktime"
	m[".qtif"] = "image/x-quicktime"
	m[".qtl"] = "application/x-quicktimeplayer"
	m[".qxd"] = "application/octet-stream"
	m[".ra"] = "audio/x-pn-realaudio"
	m[".ram"] = "audio/x-pn-realaudio"
	m[".rar"] = "application/octet-stream"
	m[".ras"] = "image/x-cmu-raster"
	m[".rat"] = "application/rat-file"
	m[".rc"] = "text/plain"
	m[".rc2"] = "text/plain"
	m[".rct"] = "text/plain"
	m[".rdlc"] = "application/xml"
	m[".resx"] = "application/xml"
	m[".rf"] = "image/vnd.rn-realflash"
	m[".rgb"] = "image/x-rgb"
	m[".rgs"] = "text/plain"
	m[".rm"] = "application/vnd.rn-realmedia"
	m[".rmi"] = "audio/mid"
	m[".rmp"] = "application/vnd.rn-rn_music_package"
	m[".roff"] = "application/x-troff"
	m[".rpm"] = "audio/x-pn-realaudio-plugin"
	m[".rqy"] = "text/x-ms-rqy"
	m[".rtf"] = "application/rtf"
	m[".rtx"] = "text/richtext"
	m[".ruleset"] = "application/xml"
	m[".s"] = "text/plain"
	m[".safariextz"] = "application/x-safari-safariextz"
	m[".scd"] = "application/x-msschedule"
	m[".sct"] = "text/scriptlet"
	m[".sd2"] = "audio/x-sd2"
	m[".sdp"] = "application/sdp"
	m[".sea"] = "application/octet-stream"
	m[".searchConnector-ms"] = "application/windows-search-connector+xml"
	m[".setpay"] = "application/set-payment-initiation"
	m[".setreg"] = "application/set-registration-initiation"
	m[".settings"] = "application/xml"
	m[".sgimb"] = "application/x-sgimb"
	m[".sgml"] = "text/sgml"
	m[".sh"] = "application/x-sh"
	m[".shar"] = "application/x-shar"
	m[".shtml"] = "text/html"
	m[".sit"] = "application/x-stuffit"
	m[".sitemap"] = "application/xml"
	m[".skin"] = "application/xml"
	m[".sldm"] = "application/vnd.ms-powerpoint.slide.macroEnabled.12"
	m[".sldx"] = "application/vnd.openxmlformats-officedocument.presentationml.slide"
	m[".slk"] = "application/vnd.ms-excel"
	m[".sln"] = "text/plain"
	m[".slupkg-ms"] = "application/x-ms-license"
	m[".smd"] = "audio/x-smd"
	m[".smi"] = "application/octet-stream"
	m[".smx"] = "audio/x-smd"
	m[".smz"] = "audio/x-smd"
	m[".snd"] = "audio/basic"
	m[".snippet"] = "application/xml"
	m[".snp"] = "application/octet-stream"
	m[".sol"] = "text/plain"
	m[".sor"] = "text/plain"
	m[".spc"] = "application/x-pkcs7-certificates"
	m[".spl"] = "application/futuresplash"
	m[".src"] = "application/x-wais-source"
	m[".srf"] = "text/plain"
	m[".SSISDeploymentManifest"] = "text/xml"
	m[".ssm"] = "application/streamingmedia"
	m[".sst"] = "application/vnd.ms-pki.certstore"
	m[".stl"] = "application/vnd.ms-pki.stl"
	m[".sv4cpio"] = "application/x-sv4cpio"
	m[".sv4crc"] = "application/x-sv4crc"
	m[".svc"] = "application/xml"
	m[".swf"] = "application/x-shockwave-flash"
	m[".t"] = "application/x-troff"
	m[".tar"] = "application/x-tar"
	m[".tcl"] = "application/x-tcl"
	m[".testrunconfig"] = "application/xml"
	m[".testsettings"] = "application/xml"
	m[".tex"] = "application/x-tex"
	m[".texi"] = "application/x-texinfo"
	m[".texinfo"] = "application/x-texinfo"
	m[".tgz"] = "application/x-compressed"
	m[".thmx"] = "application/vnd.ms-officetheme"
	m[".thn"] = "application/octet-stream"
	m[".tif"] = "image/tiff"
	m[".tiff"] = "image/tiff"
	m[".tlh"] = "text/plain"
	m[".tli"] = "text/plain"
	m[".toc"] = "application/octet-stream"
	m[".tr"] = "application/x-troff"
	m[".trm"] = "application/x-msterminal"
	m[".trx"] = "application/xml"
	m[".ts"] = "video/vnd.dlna.mpeg-tts"
	m[".tsv"] = "text/tab-separated-values"
	m[".ttf"] = "application/octet-stream"
	m[".tts"] = "video/vnd.dlna.mpeg-tts"
	m[".txt"] = "text/plain"
	m[".u32"] = "application/octet-stream"
	m[".uls"] = "text/iuls"
	m[".user"] = "text/plain"
	m[".ustar"] = "application/x-ustar"
	m[".vb"] = "text/plain"
	m[".vbdproj"] = "text/plain"
	m[".vbk"] = "video/mpeg"
	m[".vbproj"] = "text/plain"
	m[".vbs"] = "text/vbscript"
	m[".vcf"] = "text/x-vcard"
	m[".vcproj"] = "Application/xml"
	m[".vcs"] = "text/plain"
	m[".vcxproj"] = "Application/xml"
	m[".vddproj"] = "text/plain"
	m[".vdp"] = "text/plain"
	m[".vdproj"] = "text/plain"
	m[".vdx"] = "application/vnd.ms-visio.viewer"
	m[".vml"] = "text/xml"
	m[".vscontent"] = "application/xml"
	m[".vsct"] = "text/xml"
	m[".vsd"] = "application/vnd.visio"
	m[".vsi"] = "application/ms-vsi"
	m[".vsix"] = "application/vsix"
	m[".vsixlangpack"] = "text/xml"
	m[".vsixmanifest"] = "text/xml"
	m[".vsmdi"] = "application/xml"
	m[".vspscc"] = "text/plain"
	m[".vss"] = "application/vnd.visio"
	m[".vsscc"] = "text/plain"
	m[".vssettings"] = "text/xml"
	m[".vssscc"] = "text/plain"
	m[".vst"] = "application/vnd.visio"
	m[".vstemplate"] = "text/xml"
	m[".vsto"] = "application/x-ms-vsto"
	m[".vsw"] = "application/vnd.visio"
	m[".vsx"] = "application/vnd.visio"
	m[".vtx"] = "application/vnd.visio"
	m[".wav"] = "audio/wav"
	m[".wave"] = "audio/wav"
	m[".wax"] = "audio/x-ms-wax"
	m[".wbk"] = "application/msword"
	m[".wbmp"] = "image/vnd.wap.wbmp"
	m[".wcm"] = "application/vnd.ms-works"
	m[".wdb"] = "application/vnd.ms-works"
	m[".wdp"] = "image/vnd.ms-photo"
	m[".webarchive"] = "application/x-safari-webarchive"
	m[".webtest"] = "application/xml"
	m[".wiq"] = "application/xml"
	m[".wiz"] = "application/msword"
	m[".wks"] = "application/vnd.ms-works"
	m[".WLMP"] = "application/wlmoviemaker"
	m[".wlpginstall"] = "application/x-wlpg-detect"
	m[".wlpginstall3"] = "application/x-wlpg3-detect"
	m[".wm"] = "video/x-ms-wm"
	m[".wma"] = "audio/x-ms-wma"
	m[".wmd"] = "application/x-ms-wmd"
	m[".wmf"] = "application/x-msmetafile"
	m[".wml"] = "text/vnd.wap.wml"
	m[".wmlc"] = "application/vnd.wap.wmlc"
	m[".wmls"] = "text/vnd.wap.wmlscript"
	m[".wmlsc"] = "application/vnd.wap.wmlscriptc"
	m[".wmp"] = "video/x-ms-wmp"
	m[".wmv"] = "video/x-ms-wmv"
	m[".wmx"] = "video/x-ms-wmx"
	m[".wmz"] = "application/x-ms-wmz"
	m[".wpl"] = "application/vnd.ms-wpl"
	m[".wps"] = "application/vnd.ms-works"
	m[".wri"] = "application/x-mswrite"
	m[".wrl"] = "x-world/x-vrml"
	m[".wrz"] = "x-world/x-vrml"
	m[".wsc"] = "text/scriptlet"
	m[".wsdl"] = "text/xml"
	m[".wvx"] = "video/x-ms-wvx"
	m[".x"] = "application/directx"
	m[".xaf"] = "x-world/x-vrml"
	m[".xaml"] = "application/xaml+xml"
	m[".xap"] = "application/x-silverlight-app"
	m[".xbap"] = "application/x-ms-xbap"
	m[".xbm"] = "image/x-xbitmap"
	m[".xdr"] = "text/plain"
	m[".xht"] = "application/xhtml+xml"
	m[".xhtml"] = "application/xhtml+xml"
	m[".xla"] = "application/vnd.ms-excel"
	m[".xlam"] = "application/vnd.ms-excel.addin.macroEnabled.12"
	m[".xlc"] = "application/vnd.ms-excel"
	m[".xld"] = "application/vnd.ms-excel"
	m[".xlk"] = "application/vnd.ms-excel"
	m[".xll"] = "application/vnd.ms-excel"
	m[".xlm"] = "application/vnd.ms-excel"
	m[".xls"] = "application/vnd.ms-excel"
	m[".xlsb"] = "application/vnd.ms-excel.sheet.binary.macroEnabled.12"
	m[".xlsm"] = "application/vnd.ms-excel.sheet.macroEnabled.12"
	m[".xlsx"] = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
	m[".xlt"] = "application/vnd.ms-excel"
	m[".xltm"] = "application/vnd.ms-excel.template.macroEnabled.12"
	m[".xltx"] = "application/vnd.openxmlformats-officedocument.spreadsheetml.template"
	m[".xlw"] = "application/vnd.ms-excel"
	m[".xml"] = "text/xml"
	m[".xmta"] = "application/xml"
	m[".xof"] = "x-world/x-vrml"
	m[".XOML"] = "text/plain"
	m[".xpm"] = "image/x-xpixmap"
	m[".xps"] = "application/vnd.ms-xpsdocument"
	m[".xrm-ms"] = "text/xml"
	m[".xsc"] = "application/xml"
	m[".xsd"] = "text/xml"
	m[".xsf"] = "text/xml"
	m[".xsl"] = "text/xml"
	m[".xslt"] = "text/xml"
	m[".xsn"] = "application/octet-stream"
	m[".xss"] = "application/xml"
	m[".xtp"] = "application/octet-stream"
	m[".xwd"] = "image/x-xwindowdump"
	m[".z"] = "application/x-compress"
	m[".zip"] = "application/x-zip-compressed"

	return m[fileExtension]
}

func ProduceFormData(files map[string]string) string {
	var initFormData = "const fd = new FormData();"
	cnt := 0
	for key, v := range files {
		initFormData = initFormData + fmt.Sprintf("const file%d	 = open('/path/to/%s', '%s');", cnt, key, v) + fmt.Sprintf("fd.append('%s', http.file(file%d, '%s', '%s'));", key, cnt, v, getMimeType(filepath.Ext(v)))
		cnt++
	}

	if len(files) == 0 {
		return ""
	}

	return initFormData
}
